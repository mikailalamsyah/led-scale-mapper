<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LED Scale Mapper</title>
<link rel="manifest" href="manifest.json" />
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
        background: #111;
        color: #eee;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    h1 {
        font-size: 22px;
        margin-bottom: 15px;
        font-weight: 600;
    }
    .card {
        width: 100%;
        max-width: 420px;
        background: #1b1b1b;
        padding: 20px;
        border-radius: 14px;
        box-shadow: 0 0 10px rgba(0,0,0,0.3);
        margin-bottom: 20px;
    }
    label { display: block; margin-top: 12px; }
    input {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border-radius: 8px;
        border: none;
        background: #2a2a2a;
        color: #fff;
    }
    button {
        width: 100%;
        padding: 12px;
        margin-top: 18px;
        border: none;
        border-radius: 10px;
        background: #2979ff;
        color: white;
        font-size: 16px;
        cursor: pointer;
    }
    canvas {
        width: 100%;
        background: #000;
        border-radius: 14px;
        margin-top: 10px;
    }
</style>
<link rel="manifest" href="manifest.json" />
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}
</script>
</head>
<body>
<h1>LED Scale Mapper</h1>

<div class="card">
    <label>Lebar LED (cm)</label>
    <input id="ledWidth" type="number" value="300" />

    <label>Lebar Preview Laptop (cm)</label>
    <input id="laptopWidth" type="number" value="9.82" />

    <label>Ukuran Objek di LED (cm)</label>
    <input id="objectSize" type="number" value="130" />

    <button onclick="hitung()">Hitung</button>

    <p id="resultText"></p>
</div>

<div class="card">
    <canvas id="preview" width="380" height="120"></canvas>
</div>

<script>
function hitung() {
    const led = parseFloat(document.getElementById("ledWidth").value);
    const laptop = parseFloat(document.getElementById("laptopWidth").value);
    const obj = parseFloat(document.getElementById("objectSize").value);

    if (!led || !laptop || !obj) return;

    const scale = led / laptop;
    const objPreview = obj / scale;

    document.getElementById("resultText").innerText =
        `Skala: 1 : ${scale.toFixed(2)} | Objek di layar: ${objPreview.toFixed(2)} cm`;

    drawPreview(objPreview);
}

function drawPreview(previewCm) {
    const canvas = document.getElementById("preview");
    const ctx = canvas.getContext("2d");

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#333";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    const px = previewCm * 8;
    const x = (canvas.width - px) / 2;
    const y = 40;

    ctx.fillStyle = "#2979ff";
    ctx.fillRect(x, y, px, 40);

    ctx.fillStyle = "#fff";
    ctx.font = "14px sans-serif";
    ctx.fillText(`${previewCm.toFixed(2)} cm`, x + px/2 - 30, y + 60);
}
</script>
</body>
</html>

